<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pretest Hidrolisis Garam</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<style>
:root{
  --accent:#06b6d4;
  --accent-hover:#0891b2;
  --accent-light:#67e8f9;
}
body { font-family:'Poppins',sans-serif; margin:0; background: #f0f9ff; transition:0.3s; min-height:100vh; }
.dark-mode body { background:#0f172a; color:#f1f5f9; }
.header{background:#ffffff; padding:1rem 2rem; display:flex; justify-content:space-between; align-items:center; position:sticky; top:0; box-shadow:0 2px 8px rgba(6,182,212,0.15); z-index:1000;}
.logo-section{display:flex; align-items:center; gap:1rem;}
.nav-menu{display:flex; gap:1rem;}
.nav-btn{background:transparent; border:2px solid var(--accent); border-radius:25px; padding:0.5rem 1.5rem; cursor:pointer; font-weight:500; transition:0.3s;}
.nav-btn:hover{background:var(--accent); color:white; transform:translateY(-2px);}
.theme-toggle{background:var(--accent); color:white; border:none; padding:0.4rem 1rem; border-radius:20px; cursor:pointer; font-weight:500; transition:0.3s;}
.theme-toggle:hover{background:var(--accent-hover); transform:translateY(-2px);}
.back-header{display:flex; align-items:center; padding:1rem 2rem; margin-top:1rem;}
.back-btn{background:var(--accent); color:white; border:none; padding:0.6rem 1.2rem; border-radius:25px; cursor:pointer; font-weight:500; transition:0.3s;}
.back-btn:hover{background:var(--accent-hover); transform:translateY(-2px);}
.option-btn{font-size:1.05rem;}
</style>
</head>
<body>

<!-- NAVIGASI ATAS -->
<div class="header">
  <div class="logo-section">
    <img src="logo um rev.png" alt="Logo UM" width="50" height="50">
    <button class="theme-toggle" id="darkModeToggle">ğŸŒ™ Mode Gelap</button>
  </div>
  <div class="nav-menu">
    <button class="nav-btn" onclick="window.location.href='page2 beranda.html'">ğŸ  Beranda</button>
    <button class="nav-btn" onclick="window.location.href='page2 profil.html'">ğŸ‘¤ Profil</button>
  </div>
</div>

<!-- TOMBOL KEMBALI -->
<div class="back-header">
  <button class="back-btn" onclick="window.history.back()">â† Kembali</button>
</div>

<!-- MAIN CONTENT -->
<main class="max-w-3xl mx-auto px-6 py-8">
  <div id="quizContainer" class="bg-white dark:bg-gray-800 rounded-xl shadow-xl p-8 transition-colors duration-300">
    <div class="mb-6">
      <div class="flex justify-between items-center mb-2">
        <span class="text-base font-medium text-gray-600 dark:text-gray-300">Progress</span>
        <span id="progressText" class="text-base font-medium text-gray-600 dark:text-gray-300">1 / 5</span>
      </div>
      <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
        <div id="progressBar" class="bg-gradient-to-r from-blue-500 to-indigo-600 h-2 rounded-full transition-all duration-300" style="width: 20%"></div>
      </div>
    </div>

    <div class="mb-6">
      <h2 id="questionNumber" class="text-xl font-semibold text-indigo-600 dark:text-indigo-400 mb-3">Pertanyaan 1</h2>
      <p id="questionText" class="text-lg font-medium text-gray-800 dark:text-white leading-relaxed">Garam yang menghasilkan larutan basa saat dilarutkan dalam air adalah ...</p>
    </div>

    <div id="optionsContainer" class="space-y-4 mb-6">
      <button class="option-btn w-full text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-indigo-300 dark:hover:border-indigo-500 hover:bg-indigo-50 dark:hover:bg-gray-700 transition-all duration-200 bg-white dark:bg-gray-700" data-option="a">
        <span class="font-semibold text-indigo-600 dark:text-indigo-400 mr-3">A.</span>
        <span class="text-gray-800 dark:text-white">NaCl</span>
      </button>
      <button class="option-btn w-full text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-indigo-300 dark:hover:border-indigo-500 hover:bg-indigo-50 dark:hover:bg-gray-700 transition-all duration-200 bg-white dark:bg-gray-700" data-option="b">
        <span class="font-semibold text-indigo-600 dark:text-indigo-400 mr-3">B.</span>
        <span class="text-gray-800 dark:text-white">HCl</span>
      </button>
      <button class="option-btn w-full text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-indigo-300 dark:hover:border-indigo-500 hover:bg-indigo-50 dark:hover:bg-gray-700 transition-all duration-200 bg-white dark:bg-gray-700" data-option="c">
        <span class="font-semibold text-indigo-600 dark:text-indigo-400 mr-3">C.</span>
        <span class="text-gray-800 dark:text-white">NHâ‚„Cl</span>
      </button>
      <button class="option-btn w-full text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-indigo-300 dark:hover:border-indigo-500 hover:bg-indigo-50 dark:hover:bg-gray-700 transition-all duration-200 bg-white dark:bg-gray-700" data-option="d">
        <span class="font-semibold text-indigo-600 dark:text-indigo-400 mr-3">D.</span>
        <span class="text-gray-800 dark:text-white">CHâ‚ƒCOONa</span>
      </button>
      <button class="option-btn w-full text-left p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 hover:border-indigo-300 dark:hover:border-indigo-500 hover:bg-indigo-50 dark:hover:bg-gray-700 transition-all duration-200 bg-white dark:bg-gray-700" data-option="d">
        <span class="font-semibold text-indigo-600 dark:text-indigo-400 mr-3">E.</span>
        <span class="text-gray-800 dark:text-white">CHâ‚ƒCOOH</span>
      </button>
    </div>

    <div id="explanationSection" class="mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 rounded-r-lg hidden">
      <h3 class="font-semibold text-blue-800 dark:text-blue-300 mb-2">ğŸ’¡ Pembahasan</h3>
      <p id="explanationText" class="text-gray-700 dark:text-gray-300"></p>
    </div>

    <div class="flex justify-between items-center">
      <button id="prevBtn" class="px-6 py-3 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 disabled:opacity-50 disabled:cursor-not-allowed" disabled>â† Sebelumnya</button>
      <button id="nextBtn" class="px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed">Selanjutnya â†’</button>
    </div>
  </div>

  <div id="resultsSection" class="bg-white dark:bg-gray-800 rounded-xl shadow-xl p-8 mt-8 hidden transition-colors duration-300">
    <div class="text-center mb-6">
      <div class="text-6xl mb-2">ğŸ‰</div>
      <h2 class="text-3xl font-bold text-gray-800 dark:text-white mb-2">Kuis Selesai!</h2>
      <p class="text-xl text-gray-600 dark:text-gray-300">Skor Anda: <span id="finalScore" class="font-bold text-indigo-600 dark:text-indigo-400">0/5</span></p>
    </div>
    <div class="mb-6">
      <h3 class="text-xl font-bold text-gray-800 dark:text-white mb-4 text-center">ğŸ“‹ Review Jawaban</h3>
      <div id="reviewContainer" class="space-y-4 max-h-96 overflow-y-auto"></div>
    </div>
    <div class="text-center">
      <button id="restartBtn" class="px-8 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors duration-200">ğŸ”„ Mulai Ulang</button>
    </div>
  </div>
</main>

<footer class="bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 text-center p-4 mt-8 shadow-inner">
  &copy; 2025 Tsary â– Universitas Negeri Malang
</footer>

<script>
let isDarkMode=false;
const darkModeToggle=document.getElementById('darkModeToggle');
darkModeToggle.addEventListener('click',()=>{
  isDarkMode=!isDarkMode;
  document.body.classList.toggle('dark-mode',isDarkMode);
  darkModeToggle.textContent=isDarkMode?'â˜€ï¸ Mode Terang':'ğŸŒ™ Mode Gelap';
});

// Quiz data
const quizData=[
  {
    question:"Konsentrasi ion Hâº dalam larutan NHâ‚„Cl 0,1 M (Kb NHâ‚ƒ = 10â»âµ) adalah â€¦",
    options:["10â»Â³ M","10â»âµ M","10â»â· M","10â»â¹ M","10â»Â¹Â¹ M"],
    correct:"b",
    explanation:"[Hâº] = (Kw/Kb) Ã— M = (10â»Â¹â´ / 10â»âµ) Ã— 0,1 = 10â»âµ M."
  },
  {
    question:"100 mL CHâ‚ƒCOOH 0,1 M dicampur dengan 100 mL NaOH 0,1 M (Ka = 10â»âµ). pH campuran adalah â€¦",
    options:["5","6","8,85","9","7"],
    correct:"d",
    explanation:"Asam dan basa habis bereaksi membentuk CHâ‚ƒCOONa. pH larutan = 9."
  },
  {
    question:"Tetapan hidrolisis (Kh) garam dari asam lemah (Ka = 2Ã—10â»âµ) dan basa kuat adalah â€¦",
    options:["5Ã—10â»Â¹â°","2Ã—10â»âµ","10â»Â¹â´","5Ã—10â»â¹","2Ã—10â»â¹"],
    correct:"a",
    explanation:"Kh = Kw / Ka = 10â»Â¹â´ / (2Ã—10â»âµ) = 5Ã—10â»Â¹â°."
  },
  {
    question:"Jika pH larutan NaA 0,1 M adalah 9, maka nilai Ka asam HA adalah â€¦",
    options:["10â»âµ","10â»â·","10â»â¹","10â»Â¹â°","10â»Â¹Â¹"],
    correct:"a",
    explanation:"pH 9 â†’ pOH 5 â†’ Ka = 10â»âµ."
  },
  {
    question:"Larutan garam berikut yang memiliki pH paling kecil adalah â€¦",
    options:["Kâ‚‚SOâ‚„","CHâ‚ƒCOONa","NHâ‚„NOâ‚ƒ","KCN","NaHCOâ‚ƒ"],
    correct:"c",
    explanation:"NHâ‚„NOâ‚ƒ berasal dari basa lemah dan asam kuat sehingga paling asam."
  },
  {
    question:"Reaksi NHâ‚„âº + Hâ‚‚O â‡Œ NHâ‚ƒ + Hâ‚ƒOâº menunjukkan bahwa â€¦",
    options:["Larutan bersifat basa","Larutan bersifat asam","Larutan netral","Amonia asam kuat","Air bertindak sebagai basa"],
    correct:"b",
    explanation:"Terbentuk ion Hâ‚ƒOâº sehingga larutan bersifat asam."
  },
  {
    question:"pH larutan (NHâ‚„)â‚‚SOâ‚„ 0,05 M (Kb NHâ‚ƒ = 10â»âµ) adalah â€¦",
    options:["5","5 âˆ’ log 1","5 âˆ’ log 10","9","7"],
    correct:"a",
    explanation:"[Hâº] = 10â»âµ sehingga pH = 5."
  },
  {
    question:"Derajat hidrolisis (Î±) garam KCN 0,01 M (Ka = 10â»Â¹â°) adalah â€¦",
    options:["0,1%","1%","3%","10%","50%"],
    correct:"d",
    explanation:"Î± = Kh/M = 0,1 = 10%."
  },
  {
    question:"Larutan CHâ‚ƒCOONa 0,1 M diencerkan menjadi 0,001 M. Perubahan pH adalah â€¦",
    options:["pH naik 1","pH turun 1","pH tetap","pH turun 2","pH naik 2"],
    correct:"b",
    explanation:"Pengenceran menurunkan [OHâ»] sehingga pH turun 1."
  },
  {
    question:"Hubungan konsentrasi larutan NHâ‚„Cl dengan pH adalah â€¦",
    options:["Konsentrasi naik â†’ pH naik","Konsentrasi naik â†’ pH turun","Konsentrasi tidak memengaruhi pH","pH selalu 7","pH selalu > 7"],
    correct:"b",
    explanation:"Semakin pekat NHâ‚„Cl, semakin asam larutan."
  },
  {
    question:"Garam NHâ‚„CN memiliki Ka = 6,2Ã—10â»Â¹â° dan Kb = 1,8Ã—10â»âµ. Sifat larutannya adalah â€¦",
    options:["Asam","Basa","Netral","Amfoter","Tidak dapat ditentukan"],
    correct:"b",
    explanation:"Kb > Ka sehingga larutan bersifat basa."
  },
  {
    question:"Massa CHâ‚ƒCOONa (Mr = 82) dalam 500 mL air agar pH = 9 adalah â€¦",
    options:["0,41 g","4,1 g","8,2 g","41 g","82 g"],
    correct:"b",
    explanation:"m = M Ã— V Ã— Mr = 4,1 g."
  },
  {
    question:"Jika Kw = 10â»Â¹Â², maka pH air murni adalah â€¦",
    options:["7","6","14","12","1"],
    correct:"b",
    explanation:"pKw = 12 â†’ pH = 6."
  },
  {
    question:"Campuran yang menghasilkan garam terhidrolisis sebagian dan bersifat basa adalah â€¦",
    options:["HCl + NaOH","HCl + NHâ‚ƒ","CHâ‚ƒCOOH + NaOH","CHâ‚ƒCOOH + NHâ‚ƒ","NaCl + air"],
    correct:"c",
    explanation:"Asam lemah + basa kuat menghasilkan garam basa."
  },
  {
    question:"Kation dari basa kuat tidak terhidrolisis karena â€¦",
    options:["Afinitas tinggi terhadap OHâ»","Asam konjugasinya sangat lemah","Ukuran ion besar","Tidak larut","Tidak bermuatan"],
    correct:"b",
    explanation:"Asam konjugasinya sangat lemah sehingga tidak bereaksi dengan air."
  },
  {
    question:"Nilai [Hâº][OHâ»] dalam larutan garam selalu â€¦",
    options:["Berubah","Sama dengan Kw","Nol","Lebih besar dari Kw","Lebih kecil dari Kw"],
    correct:"b",
    explanation:"Hasil kali ion air selalu sama dengan Kw."
  },
  {
    question:"pH larutan CaFâ‚‚ 0,1 M (Ka HF = 10â»â´) adalah â€¦",
    options:["5","8,15","8,65","9","7"],
    correct:"c",
    explanation:"pH â‰ˆ 8,65."
  },
  {
    question:"Fungsi pemahaman hidrolisis dalam industri tekstil adalah â€¦",
    options:["Menentukan harga","Mengatur pH pewarna","Mempercepat penguapan","Memberi warna air","Menghilangkan serat"],
    correct:"b",
    explanation:"pH larutan pewarna harus dikontrol agar hasil optimal."
  },
  {
    question:"Ion AlÂ³âº terhidrolisis menghasilkan Hâº, sehingga larutan AlClâ‚ƒ bersifat â€¦",
    options:["Basa","Asam","Netral","Buffer","Amfoter"],
    correct:"b",
    explanation:"Ion AlÂ³âº menghasilkan Hâº sehingga larutan asam."
  },
  {
    question:"Pernyataan yang benar tentang hidrolisis total adalah â€¦",
    options:["Asam kuat + basa lemah","pH selalu 7","Asam lemah + basa lemah","Tidak melibatkan air","Hanya garam netral"],
    correct:"c",
    explanation:"Hidrolisis total terjadi pada asam lemah dan basa lemah."
  }
];

// State
let currentQuestion=0, userAnswers=[], score=0;

// DOM
const questionNumber=document.getElementById('questionNumber');
const questionText=document.getElementById('questionText');
const optionsContainer=document.getElementById('optionsContainer');
const progressBar=document.getElementById('progressBar');
const progressText=document.getElementById('progressText');
const prevBtn=document.getElementById('prevBtn');
const nextBtn=document.getElementById('nextBtn');
const explanationSection=document.getElementById('explanationSection');
const explanationText=document.getElementById('explanationText');
const resultsSection=document.getElementById('resultsSection');
const finalScore=document.getElementById('finalScore');
const reviewContainer=document.getElementById('reviewContainer');
const restartBtn=document.getElementById('restartBtn');

function loadQuestion(){
  const q=quizData[currentQuestion];
  questionNumber.textContent=`Pertanyaan ${currentQuestion+1}`;
  questionText.textContent=q.question;
  explanationSection.classList.add('hidden');
  const options=optionsContainer.querySelectorAll('.option-btn');
  options.forEach((btn,i)=>{
    btn.querySelector('span:last-child').textContent=q.options[i];
    btn.classList.remove('border-green-500','bg-green-100','dark:bg-green-900','border-red-500','bg-red-100','dark:bg-red-900');
    btn.classList.add('border-gray-200','dark:border-gray-600');
    btn.disabled=false;
  });
  progressBar.style.width=`${((currentQuestion+1)/quizData.length)*100}%`;
  progressText.textContent=`${currentQuestion+1} / ${quizData.length}`;
  prevBtn.disabled=currentQuestion===0;
  nextBtn.textContent=currentQuestion===quizData.length-1?'Selesai':'Selanjutnya â†’';
  nextBtn.disabled=userAnswers[currentQuestion]===undefined;
}

function selectOption(selected){
  const q=quizData[currentQuestion];
  const options=optionsContainer.querySelectorAll('.option-btn');
  options.forEach(btn=>{
    btn.disabled=true;
    const option=btn.dataset.option;
    if(option===q.correct) btn.classList.add('border-green-500','bg-green-100','dark:bg-green-900');
    else if(option===selected) btn.classList.add('border-red-500','bg-red-100','dark:bg-red-900');
  });
  userAnswers[currentQuestion]=selected;
  if(selected===q.correct) score++;
  explanationText.textContent=q.explanation;
  explanationSection.classList.remove('hidden');
  nextBtn.disabled=false;
}

function showResults(){
  document.getElementById('quizContainer').style.display='none';
  resultsSection.classList.remove('hidden');
  finalScore.textContent=`${score}/${quizData.length}`;
  reviewContainer.innerHTML='';
  quizData.forEach((q,i)=>{
    const ua=userAnswers[i];
    const correct=ua===q.correct;
    const optionLabels=['a','b','c','d'];
    const correctText=q.options[optionLabels.indexOf(q.correct)];
    const userText=ua? q.options[optionLabels.indexOf(ua)]:'Tidak dijawab';
    const div=document.createElement('div');
    div.className=`p-4 rounded-lg border-2 ${correct?'border-green-200 bg-green-50 dark:border-green-700 dark:bg-green-900/20':'border-red-200 bg-red-50 dark:border-red-700 dark:bg-red-900/20'}`;
    div.innerHTML=`
      <div class="flex items-start gap-3 mb-3">
        <span class="text-2xl">${correct?'âœ…':'âŒ'}</span>
        <div class="flex-1">
          <h4 class="font-semibold text-gray-800 dark:text-white mb-2">Pertanyaan ${i+1}</h4>
          <p class="text-gray-700 dark:text-gray-300 mb-2">${q.question}</p>
          <div class="text-sm space-y-1">
            <p><strong>Jawaban Anda:</strong> <span class="${correct?'text-green-600 dark:text-green-400':'text-red-600 dark:text-red-400'}">${userText}</span></p>
            <p><strong>Jawaban Benar:</strong> <span class="text-green-600 dark:text-green-400">${correctText}</span></p>
          </div>
        </div>
      </div>
      <div class="pl-11">
        <div class="p-3 bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 rounded-r">
          <p class="text-sm text-gray-700 dark:text-gray-300"><strong>ğŸ’¡ Pembahasan:</strong> ${q.explanation}</p>
        </div>
      </div>
    `;
    reviewContainer.appendChild(div);
  });
}

function restartQuiz(){
  currentQuestion=0; userAnswers=[]; score=0;
  resultsSection.classList.add('hidden');
  document.getElementById('quizContainer').style.display='block';
  loadQuestion();
}

optionsContainer.addEventListener('click',e=>{
  if(e.target.classList.contains('option-btn')||e.target.closest('.option-btn')){
    const btn=e.target.classList.contains('option-btn')?e.target:e.target.closest('.option-btn');
    selectOption(btn.dataset.option);
  }
});

prevBtn.addEventListener('click',()=>{
  if(currentQuestion>0){currentQuestion--; loadQuestion();}
});
nextBtn.addEventListener('click',()=>{
  if(currentQuestion<quizData.length-1){currentQuestion++; loadQuestion();}
  else showResults();
});
restartBtn.addEventListener('click',restartQuiz);

loadQuestion();
</script>

</body>
</html>
